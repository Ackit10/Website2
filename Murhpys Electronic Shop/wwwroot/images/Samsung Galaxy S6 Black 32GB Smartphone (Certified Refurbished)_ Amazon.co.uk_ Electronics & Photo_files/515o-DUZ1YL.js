(function(h){var r=window.AmazonUIPageJS||window.P,u=r._namespace||r.attributeErrors,n=u?u("DetailPageQuestAssets",""):r;n.guardFatal?n.guardFatal(h)(n,window):n.execute(function(){h(n,window)})})(function(h,r,u){function n(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function n(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function n(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function n(a,
c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function n(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function n(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function n(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function n(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function n(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");
}function n(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function n(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function n(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function n(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function n(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function n(a,c){if(!(a instanceof
c))throw new TypeError("Cannot call a class as a function");}function n(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function n(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function n(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function n(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function n(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");
}"use strict";h.when("A","quest-metrics-constants","quest-service-csm-helper","quest-atc","quest-offer-helper","quest-service-modal","quest-service-log-helper","quest-price-utils","quest-services-settings").register("quest-services-ingress",function(a,c,e,g,b,q,k,f,l){var d=a.$;return new function t(){n(this,t);this.offerSelected=function(){a.show(d("#questIngressSubtextSelected"));a.hide(d("#questIngressSubtext"));d("#questServicePriceId").html(f.getDisplayablePriceData(b.selectedOffer.price,b.selectedOffer.priceUnit));
a.show(d("#questServicePriceId"));a.hide(d("#get-installation-price"));a.show(d("#questViewYourAnswers"));a.hide(d("#servicePriceStartingFrom"));a.show(d("#quest-remove-installation"));a.show(d("#questServicePriceIdSuffix"));g.selectionUpdate(b.selectedOffer);e.publishMetricCount(c.SERVICE_OFFER_SELECTED_SUCCESSFULLY);l.get("isBusinessCustomer")?e.publishMetricCount(c.B2B_SERVICE_OFFER_SELECTED_SUCCESSFULLY):e.publishMetricCount(c.B2C_SERVICE_OFFER_SELECTED_SUCCESSFULLY)};this.removeInstallationClick=
function(){a.hide(d("#questIngressSubtextSelected"));a.show(d("#questIngressSubtext"));a.hide(d("#questServicePriceId"));a.show(d("#get-installation-price"));a.hide(d("#questViewYourAnswers"));a.show(d("#servicePriceStartingFrom"));a.hide(d("#quest-remove-installation"));a.hide(d("#questServicePriceIdSuffix"));g.removeAllSelections();e.publishMetricCount(c.OFFERED_INSTALLATION_SERVICE_REMOVED)};this.init=function(){try{g.registerQuestFeature(),g.cardExpanderListener()}catch(a){k.logException(a,"Failed to register the quest feature with twister plus - ",
"FATAL")}};e.publishMetricCount(c.INGRESS_GLANCE_VIEW);l.get("isBusinessCustomer")?e.publishMetricCount(c.B2B_INGRESS_GLANCE_VIEW):e.publishMetricCount(c.B2C_INGRESS_GLANCE_VIEW);d("body").delegate("#get-installation-price","click",function(){e.publishMetricCount(c.INGRESS_GET_INSTALLATION_BUTTON_CLICK);l.get("isBusinessCustomer")?e.publishMetricCount(c.B2B_INGRESS_GET_INSTALLATION_BUTTON_CLICK):e.publishMetricCount(c.B2C_INGRESS_GET_INSTALLATION_BUTTON_CLICK);try{q.init(),q.showModal()}catch(a){e.publishMetricCount(c.INGRESS_GET_INSTALLATION_BUTTON_CLICK_FAILURE),
k.logException(a,"Ingress Get Installation Button click failed - ","FATAL")}});a.on("quest-service:offer-updated",this.offerSelected);this.init();e.publishMetricCount(c.INGRESS_CLICKABLE)}});"use strict";h.when("A","quest-services-ingress","ready").execute(function(a,c){a=a.$;a(document).delegate("#quest-remove-installation","click",function(a){c.removeInstallationClick()})});"use strict";var v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&
"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};h.when("A","cc-manager","quest-constants","atf").register("quest-atc",function(a,c,e){var g={featureName:e.QUEST_FEATURE_NAME,featureAttribution:e.QUEST_CTI,updateQtyAsBaseItem:1},b={init:function(){},validateInputParams:function(a){return("undefined"===typeof a?"undefined":v(a))===e.UNDEFINED||a.itemType!==e.ASIN?0:1}};return{selectionUpdate:function(a){c.ccSelectionsClear(e.QUEST_FEATURE_NAME);return c.ccSelectionUpdate(e.QUEST_FEATURE_NAME,
a)},removeAllSelections:function(){c.ccSelectionsClear(e.QUEST_FEATURE_NAME)},registerQuestFeature:function(){c.registerFeature(g,b)},cardExpanderListener:function(){c.cardExpanded(e.QUEST_FEATURE_NAME)}}});"use strict";h.when("A","quest-services-settings").register("quest-offer-helper",function(a,c){return new function g(){var b=this;n(this,g);this.selectedOffer={itemType:"asin",quantity:1,selectionType:"add",enableIA:!1};this.updateOffer=function(c,k,f,l){b.selectedOffer.asin=c;b.selectedOffer.offerListingId=
k;b.selectedOffer.price=f;b.selectedOffer.priceUnit=l;a.trigger("quest-service:offer-updated")};this.init=function(){};if(g.instance)return g.instance;g.instance=this}});"use strict";v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};h.when("A").register("quest-services-settings",function(a){var c=function b(){n(this,b)};c.get=function(a){if(a&&
e)return e[a]};c.set=function(b){b&&"object"===("undefined"===typeof b?"undefined":v(b))&&!a.isArray(b)&&(e=b)};c.parsePageState=function(){var b=0<arguments.length&&arguments[0]!==u?arguments[0]:a.$("body");return a.parseJSON(b.find("[data-a-state*\x3dquest-services-view-model]").html())};var e=c.parsePageState();return c});"use strict";h.when("A","atf").register("quest-constants",function(a){return{UNDEFINED:"undefined",STRING:"string",ASIN:"asin",ADD_SELECTION_TYPE:"add",QUEST_FEATURE_NAME:"questServices",
QUEST_CTI:"Website/Ship to Store/Quest",DEFAULT_OPTION_IMAGE_URL:"https://m.media-amazon.com/images/G/01/adkins_AB/2021/building_renovation/grey.png",MEDIA_CENTRAL_URL_PREFIX:"https://m.media-amazon.com/images/I/"}});"use strict";h.when("A","a-modal","quest-metrics-constants","quest-service-csm-helper","quest-service-log-helper","quest-service-question-view","quest-service-start-question-view","quest-service-selected-service-view","quest-service-error-view","quest-service-learn-more-view","quest-service").register("quest-service-modal",
function(a,c,e,g,b,q,k,f,l,d){var m=a.$;return new function p(){var h=this;n(this,p);this.showModal=function(){h.modalInstance?(h.modalInstance.show(),h.$questServiceStartQuestionView.hide(),h.$questServiceQuestionView.hide(),h.$questServiceErrorView.hide(),h.$questServiceSelectedServiceView.hide(),h.$questServiceLearnMoreView.hide(),k.show(),g.publishMetricCount(e.SECONDARY_VIEW_RENDER_FAILURE,0)):(g.publishMetricCount(e.SECONDARY_VIEW_RENDER_FAILURE,1),b.logFatal({message:"Secondary view Modal instance is null"}))};
this.closeModal=function(){h.modalInstance.unlock();h.modalInstance.hide()};this.init=function(){k.init();q.init();f.init();l.init();d.init();h.$questServiceStartQuestionView=m("#quest-service-start-question-view");h.$questServiceQuestionView=m("#quest-service-question-view");h.$questServiceErrorView=m("#quest-service-error-view");h.$questServiceSelectedServiceView=m("#quest-service-selected-service-view");h.$questServiceLearnMoreView=m("#quest-service-learn-more-view")};a.$("body");this.modalInstance=
c.get(m("#quest-service-modal-action"));a.on("quest-service-modal:close",this.closeModal)}});"use strict";h.when("A","a-meter","quest-metrics-constants","quest-service-csm-helper","modal-data-helper","quest-service-html-helper","quest-service").register("quest-service-question-view",function(a,c,e,g,b,q){var k=a.$;return new function l(){var d=this;n(this,l);this.show=function(){d.$questServiceStartQuestionView.hide();d.$questServiceErrorView.hide();d.$questServiceSelectedServiceView.hide();d.$questServiceLearnMoreView.hide();
d.$questServiceQuestionView.show();a.hide(d.$unSelectedOptionErrorText);d.updateQuestionViewData()};this.resetQuestionView=function(){b.resetSelection();d.show()};this.nextButtonClicked=function(){if(null===d.$selectedOption)a.show(d.$unSelectedOptionErrorText);else{g.publishMetricCount(e.RESPONSE_COUNT_AT_QUESTION.replace(e.QUESTION_NUMBER_FORMAT,b.getCurrentQuestionNo()));var c=d.$selectedOption.find("input")[0].getAttribute("value");b.nextQuestion(c);d.$selectedOption=null;b.isAllQuestionAnswered()?
null===b.getSelectedAsin()?a.trigger("quest-service-error-view:show"):a.trigger("quest-service-selected-service-view:show"):d.updateQuestionViewData()}};this.learnMoreClicked=function(){a.trigger("quest-service-learn-more-view:show")};this.backButtonClicked=function(){1===b.getCurrentQuestionNo()?a.trigger("quest-service-modal:close"):(b.previousQuestion(),d.$selectedOption=null,d.updateQuestionViewData())};this.updateQuestionViewData=function(){a.hide(d.$unSelectedOptionErrorText);d.questionViewMeter.percent(b.getQuestionViewProgressPercent());
d.$questionViewQuestion.html(b.getCurrentQuestion());d.$questionDescriptionArea.html(b.getCurrentQuestionDescription());d.$questionViewCurrentQuestionNo.html(q.getCurrentQuestionPositionString(b.getCurrentQuestionNo(),b.getTotalQuestionNo()));d.$questionViewOptionsArea.html(q.getHtml(b.getCurrentOptions(),b.getCurrentOptionsMetaData()));k("#quest-service-learn-more-view #quest-service-learn-more-image-container img").attr("src",b.getCurrentQuestionLearnMoreUrl())};this.optionClicked=function(b){null!=
d.$selectedOption&&d.$selectedOption.removeClass("selected");d.$selectedOption=k(b.currentTarget);d.$selectedOption.addClass("selected");a.hide(d.$unSelectedOptionErrorText)};this.init=function(){b.init();d.questionViewMeter=c(".quest-service-question-progress-bar");d.$questionViewQuestion=k("#quest-service-q-primary");d.$questionViewCurrentQuestionNo=k("#quest-service-q-no-current");d.$questionViewOptionsArea=k("#quest-service-options-area");d.$questionDescriptionArea=k("#quest-service-question-description-area");
d.$unSelectedOptionErrorText=k("#quest-service-unselected-option-error-text");d.$questServiceStartQuestionView=k("#quest-service-start-question-view");d.$questServiceQuestionView=k("#quest-service-question-view");d.$questServiceErrorView=k("#quest-service-error-view");d.$questServiceSelectedServiceView=k("#quest-service-selected-service-view");d.$questServiceLearnMoreView=k("#quest-service-learn-more-view");d.$selectedOption=null};this.init();var m=a.$("body");a.on("quest-service-questionnaire-view:show",
this.resetQuestionView);a.on("quest-service:selected-service-view-back-pressed",this.backButtonClicked);m.delegate(".quest-service-option-container","click",this.optionClicked);a.declarative("quest-service-learn-more-action","click",this.learnMoreClicked);m.delegate("#quest-service-q-button-next","click",this.nextButtonClicked);m.delegate("#quest-service-q-back-button","click",this.backButtonClicked)}});"use strict";h.when("A","a-spinner","quest-metrics-constants","quest-service-csm-helper","asin-variation-data",
"quest-service-html-helper","quest-service").register("quest-service-start-question-view",function(a,c,e,g,b,q){var k=a.$,f;return new function d(){var m=this;n(this,d);this.getVariationDataSuccess=function(){a.hide(m.$startQuestionAjaxErrorView);m.spinner.hide();m.$answerNQuestions.html(q.getAnswerNQuestionString(b.questions.length));a.show(m.$startQuestionContent);g.publishMetricCount(e.SECONDARY_VIEW_LOAD_SUCCESS)};this.getVariationDataFail=function(){a.hide(m.$startQuestionContent);m.spinner.hide();
a.show(m.$startQuestionAjaxErrorView);a.show(m.errorText)};this.show=function(){m.$questServiceQuestionView.hide();m.$questServiceErrorView.hide();m.$questServiceSelectedServiceView.hide();m.$questServiceLearnMoreView.hide();m.$questServiceStartQuestionView.show();m.callVariationV2()};this.startQuestionnaireButtonClicked=function(){g.publishMetricCount(e.START_QUESTIONNAIRE_ATTEMPT);a.trigger("quest-service-questionnaire-view:show")};this.callVariationV2=function(){a.hide(m.$startQuestionContent);
a.hide(m.errorText);a.show(m.$startQuestionAjaxErrorView);m.spinner.show();b.getVariationData().then(m.getVariationDataSuccess,m.getVariationDataFail)};this.init=function(){f=0;m.spinner=c("#quest-service-start-screen-spinner");m.errorText=k("#quest-service-q-start-screen-error-message");m.$startQuestionAjaxErrorView=k("#quest-service-start-question-view-ajax-call");m.$startQuestionContent=k("#quest-service-start-question-view-inner-content");m.$questServiceStartQuestionView=k("#quest-service-start-question-view");
m.$questServiceQuestionView=k("#quest-service-question-view");m.$questServiceErrorView=k("#quest-service-error-view");m.$questServiceSelectedServiceView=k("#quest-service-selected-service-view");m.$questServiceLearnMoreView=k("#quest-service-learn-more-view");m.$answerNQuestions=k("#answerNQuestionTextArea")};this.init();var h=a.$("body");h.delegate("#quest-service-start-questionnaire-button","click",this.startQuestionnaireButtonClicked);h.delegate("#quest-service-q-start-screen-error-message","click",
function(){f++;5>=f?m.callVariationV2():g.publishMetricCount(e.MAX_RETRY_COUNT_EXCEEDS_AAPI_VARIATIONS_AJAX_CALL)})}});"use strict";h.when("A","a-spinner","modal-data-helper","asin-offer-data","quest-offer-helper","quest-service-html-helper","quest-metrics-constants","quest-service-csm-helper","quest-service").register("quest-service-selected-service-view",function(a,c,e,g,b,q,k,f){var l=a.$,d;return new function t(){var p=this;n(this,t);this.show=function(){p.$questServiceQuestionView.hide();p.$questServiceErrorView.hide();
p.$questServiceStartQuestionView.hide();p.$questServiceLearnMoreView.hide();p.$questServiceSelectedServiceView.show();p.callAapiForOfferDetails()};this.getOfferDataSuccess=function(){f.publishMetricCount(k.OFFER_DETAILS_SHOWN_SUCCESSFULLY);a.hide(p.$errorText);p.spinner.hide();a.hide(p.$AjaxCallView);a.show(p.$selectedServiceContent);l(".quest-service-selected-service-view-price-text").html(g.getDisplayablePrice())};this.getOfferDataFail=function(){a.hide(p.$selectedServiceContent);a.show(p.$AjaxCallView);
p.spinner.hide();a.show(p.$errorText)};this.callAapiForOfferDetails=function(){a.hide(p.$selectedServiceContent);a.hide(p.$errorText);p.spinner.show();a.show(p.$AjaxCallView);var b=e.getSelectedAsin().product.resource.url;g.getOfferData(b).then(p.getOfferDataSuccess,p.getOfferDataFail)};this.retakeQuetions=function(){a.trigger("quest-service-questionnaire-view:show")};this.goBackToLastQuestion=function(){p.$questServiceSelectedServiceView.hide();p.$questServiceQuestionView.show();a.trigger("quest-service:selected-service-view-back-pressed")};
this.addInstallation=function(){b.updateOffer(g.getAsin(),g.getOfferListingId(),g.getPriceData().amount,g.getPriceData().currencyCode);p.selectedAnswers=e.getSelectedAnswers(e.getSelectedOptions());p.askedQuestions=e.getAllAskedQuestions();p.$popoverSelectedAnswersView.html(q.getPopupSheetAnswersHtml(p.askedQuestions,p.selectedAnswers));p.$bottomSheetSelectedAnswersView.html(q.getPopupSheetAnswersHtml(p.askedQuestions,p.selectedAnswers));p.closeModal()};this.closeModal=function(){a.trigger("quest-service-modal:close")};
this.init=function(){d=0;p.spinner=c("#quest-service-selected-service-spinner");p.$errorText=l("#quest-service-selected-service-error-message");p.$AjaxCallView=l("#quest-service-selected-service-view-ajax-call");p.$selectedServiceContent=l("#quest-service-selected-service-view-inner-content");p.$questServiceStartQuestionView=l("#quest-service-start-question-view");p.$questServiceQuestionView=l("#quest-service-question-view");p.$questServiceErrorView=l("#quest-service-error-view");p.$questServiceSelectedServiceView=
l("#quest-service-selected-service-view");p.$questServiceLearnMoreView=l("#quest-service-learn-more-view");p.$popoverSelectedAnswersView=l("#quest-service-popover-selected-answers");p.$bottomSheetSelectedAnswersView=l("#quest-service-bottom-sheet-selected-answers")};var h=a.$("body");h.delegate("#quest-service-selected-service-view-add-installation-button","click",this.addInstallation);h.delegate("#quest-service-selected-service-error-message","click",function(){d++;5>=d?p.callAapiForOfferDetails():
f.publishMetricCount(k.MAX_RETRY_COUNT_EXCEEDS_AAPI_OFFER_AJAX_CALL)});a.declarative("quest-service-retake-question-click","click",this.retakeQuetions);a.declarative("quest-service-selected-service-view-back-button","click",this.goBackToLastQuestion);a.on("quest-service-selected-service-view:show",this.show)}});"use strict";h.when("A","quest-metrics-constants","quest-service-csm-helper","quest-services-settings","quest-service").register("quest-service-error-view",function(a,c,e,g){var b=a.$;return new function k(){var f=
this;n(this,k);this.show=function(){e.addMetricCount(c.UNSERVICEABLE_QUESTIONNAIRE_RESPONSE);g.get("isBusinessCustomer")?e.publishMetricCount(c.B2B_UNSERVICEABLE_QUESTIONNAIRE_RESPONSE):e.publishMetricCount(c.B2C_UNSERVICEABLE_QUESTIONNAIRE_RESPONSE);f.$questServiceQuestionView.hide();f.$questServiceStartQuestionView.hide();f.$questServiceSelectedServiceView.hide();f.$questServiceLearnMoreView.hide();f.$questServiceErrorView.show()};this.retakeQuestions=function(){a.trigger("quest-service-questionnaire-view:show")};
this.closeModal=function(){a.trigger("quest-service-modal:close")};this.init=function(){f.$questServiceStartQuestionView=b("#quest-service-start-question-view");f.$questServiceQuestionView=b("#quest-service-question-view");f.$questServiceErrorView=b("#quest-service-error-view");f.$questServiceSelectedServiceView=b("#quest-service-selected-service-view");f.$questServiceLearnMoreView=b("#quest-service-learn-more-view")};this.init();var l=a.$("body");a.declarative("quest-service-retake-question-click",
"click",this.retakeQuestions);l.delegate("#quest-service-error-view-return-to-product-button","click",this.closeModal);a.on("quest-service-error-view:show",this.show)}});"use strict";h.when("A","aapi-ajax-constants","quest-service-log-helper","quest-metrics-constants","quest-service-csm-helper","quest-service").register("asin-variation-data",function(a,c,e,g,b){return new function k(){var f=this;n(this,k);this.getVariationData=function(){return new Promise(function(k,d){null!==f.data?k():a.$.ajax({url:c.VARIATION_V2_URL,
type:"GET",headers:{"Accept-Language":"en-US",Accept:'application/vnd.com.amazon.api+json; type\x3d"product/v2"; expand\x3d"twisterVariations(product.twister-variations/v2)"',"x-api-csrf-token":c.CSRF_TOKEN},xhrFields:{withCredentials:!0},timeout:c.TIMEOUT,success:function(a){try{f.setData(a),k()}catch(c){b.addMetricCount(g.GET_DATA_FAILURE_ON_TWISTER_VARIATIONS_V2_AJAX_SUCCESS),e.logException(c,"Failed to get asin variation data on ajax call success - ","FATAL"),f.resetData(),d()}},error:function(a){b.addMetricCount(g.TWISTER_VARIATIONS_V2_AJAX_FAILURE);
d()}})})};this.resetData=function(){f.data=null};this.setData=function(a){f.data=a;f.options=f.data.entity.twisterVariations.entity.dimensionValues;f.optionsMetaData=[];f.data.entity.twisterVariations.entity.dimensionMetadata.forEach(function(a){f.optionsMetaData.push(a.values)});f.questions=[];f.questionsDescription=[];f.data.entity.twisterVariations.entity.dimensionKeys.forEach(function(a){f.questions.push(a.displayString)});f.data.entity.twisterVariations.entity.dimensionMetadata.forEach(function(a){f.questionsDescription.push(a.description)});
f.totalQuestion=f.questions.length;f.variations=f.data.entity.twisterVariations.entity.variations};if(k.instance)return k.instance;k.instance=this;this.resetData()}});"use strict";h.when("A","aapi-ajax-constants","quest-services-settings","quest-service-log-helper","quest-metrics-constants","quest-service-csm-helper","quest-service").register("asin-offer-data",function(a,c,e,g,b,q){return new function f(){var l=this;n(this,f);this.getOfferData=function(d){return new Promise(function(f,h){a.$.ajax({url:c.ROOT_ENDPOINT+
d,type:"GET",headers:{"Accept-Language":"en-US",Accept:'application/vnd.com.amazon.api+json; type\x3d"product/v2"; expand\x3d"buyingOptions[].price(product.price/v1), buyingOptions[].offer(product.bo-offer/v1), buyingOptions[].availability(product.availability/v2)"',"x-api-csrf-token":c.CSRF_TOKEN,"x-cc-currency-of-preference":e.get("currencyOfPreference")},xhrFields:{withCredentials:!0},timeout:c.TIMEOUT,success:function(a){try{l.setData(a),f()}catch(c){q.addMetricCount(b.GET_OFFER_DATA_FAILURE_ON_AAPI_AJAX_SUCCESS),
g.logException(c,"Failed to get asin offer data on ajax call success - ","FATAL"),h()}},error:function(a){q.addMetricCount(b.AAPI_OFFER_DETAILS_AJAX_CALL_FAILURE);h(a)}})})};this.setData=function(a){l.priceData=a.entity.buyingOptions[0].price.entity.priceToPay.moneyValueOrRange.value;l.priceAmount=l.priceData.amount;l.currencyCode=l.priceData.currencyCode;l.offerListingId=a.entity.buyingOptions[0].offer.entity.id;l.asin=a.entity.asin};this.getPriceData=function(){return l.priceData};this.getCurrencySymbol=
function(){var a=e.get("currencyCodeToSymbolMap"),b=l.currencyCode;a&&a[l.currencyCode]&&(b=a[l.currencyCode]);return b};this.getDisplayablePrice=function(){var a=e.get("priceDisplayHtml"),b=(""+l.priceAmount).split("."),c=b[0];(b=b[1])?1===b.length?b=b.concat("0"):2<b.length&&(b=b.substring(0,2)):b="00";a=a.replaceAll("priceWholePlaceHolder",c);a=a.replaceAll("priceFractionPlaceHolder",b);return a=a.replaceAll("currencySymbolPlaceHolder",l.getCurrencySymbol())};this.getOfferListingId=function(){return l.offerListingId};
this.getAsin=function(){return l.asin};this.resetData=function(){l.priceData=null;l.priceAmount=null;l.currencyCode=null;l.offerListingId=null};this.resetData()}});"use strict";h.when("A","modal-data-helper","quest-service").register("quest-service-learn-more-view",function(a){var c=a.$;return new function g(){var b=this;n(this,g);this.show=function(){b.$questServiceQuestionView.hide();b.$questServiceStartQuestionView.hide();b.$questServiceSelectedServiceView.hide();b.$questServiceErrorView.hide();
b.$questServiceLearnMoreView.show()};this.backButtonClicked=function(){b.$questServiceLearnMoreView.hide();b.$questServiceQuestionView.show()};this.init=function(){b.$questServiceStartQuestionView=c("#quest-service-start-question-view");b.$questServiceQuestionView=c("#quest-service-question-view");b.$questServiceErrorView=c("#quest-service-error-view");b.$questServiceSelectedServiceView=c("#quest-service-selected-service-view");b.$questServiceLearnMoreView=c("#quest-service-learn-more-view")};this.init();
a.$("body");a.on("quest-service-learn-more-view:show",this.show);a.declarative("quest-service-Learn-more-back-button-clicked","click",this.backButtonClicked)}});"use strict";h.when("quest-services-settings","quest-service").register("aapi-ajax-constants",function(a){var c=a.get("aapiAjaxEndpoint"),e=a.get("marketplaceId"),g=a.get("parentServiceAsin");return new function q(){n(this,q);this.VARIATION_V2_URL="https://"+c+"/api/marketplaces/"+e+"/products/"+g;this.ROOT_ENDPOINT="https://"+c;this.CSRF_TOKEN=
a.get("aapiCsrfToken");this.TIMEOUT=1E4}});"use strict";h.when("A","quest-services-settings").register("quest-price-utils",function(a,c){return new function g(){n(this,g);this.getDisplayablePriceData=function(a,q){var k=q,f=c.get("currencyCodeToSymbolMap");f&&f[q]&&(k=f[q]);q=c.get("priceDisplayHtml");f=(""+a).split(".");a=f[0];(f=f[1])?1===f.length?f=f.concat("0"):2<f.length&&(f=f.substring(0,2)):f="00";q=q.replaceAll("priceWholePlaceHolder",a);q=q.replaceAll("priceFractionPlaceHolder",f);return q=
q.replaceAll("currencySymbolPlaceHolder",k)}}});"use strict";h.when("asin-variation-data","quest-service-log-helper","quest-service").register("modal-data-helper",function(a,c){return new function g(){var b=this;n(this,g);this.compareWithSelectedOptions=function(a){a=a.values;if(a.length!=b.optionSelections.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!=b.optionSelections[c])return!1;return!0};this.getTotalQuestionNo=function(){return a.totalQuestion};this.getCurrentQuestionNo=function(){return b.currentQuestionIdx+
1};this.getQuestionViewProgressPercent=function(){return(b.currentQuestionIdx+1)/a.totalQuestion*100};this.getCurrentQuestion=function(){return a.questions[b.currentQuestionIdx]};this.getCurrentQuestionDescription=function(){var c=a.questionsDescription[b.currentQuestionIdx];return c.text?c.text:c.fragments&&(c=c.fragments.filter(function(a){return a.hasOwnProperty("text")}),0!==c.length)?c[0].text:""};this.getCurrentQuestionLearnMoreUrl=function(){var c=a.questionsDescription[b.currentQuestionIdx];
return c.fragments&&(c=c.fragments.filter(function(a){return a.hasOwnProperty("link")}),0!==c.length&&c[0].link&&c[0].link.url)?c[0].link.url:""};this.getCurrentOptions=function(){return a.options[b.currentQuestionIdx]};this.getCurrentOptionsMetaData=function(){return a.optionsMetaData[b.currentQuestionIdx]};this.getSelectedOptions=function(){return b.optionSelections};this.getSelectedAnswers=function(c){c.forEach(function(c,f){b.selectedAnswers.push(a.options[f][c])});return b.selectedAnswers};this.getAllAskedQuestions=
function(){return a.questions};this.nextQuestion=function(c){a.totalQuestion!==b.optionSelections.length&&(b.optionSelections.push(c),b.currentQuestionIdx+=1)};this.previousQuestion=function(){1!==b.getCurrentQuestionNo()&&(b.optionSelections.pop(),--b.currentQuestionIdx)};this.isAllQuestionAnswered=function(){return a.totalQuestion===b.optionSelections.length};this.resetSelection=function(){b.optionSelections=[];b.currentQuestionIdx=0;b.selectedAnswers=[]};this.getSelectedAsin=function(){if(!b.isAllQuestionAnswered())return c.logFatal({message:"Call to get selected asin before answering all questions"}),
null;var g=a.variations.filter(b.compareWithSelectedOptions);return 1===g.length?g[0]:null};this.init=function(){g.instance=b;b.currentQuestionIdx=0;b.optionSelections=[];b.selectedAnswers=[]};this.init();if(g.instance)return g.instance}});"use strict";var w=function(){function a(a,e){for(var g=0;g<e.length;g++){var b=e[g];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(c,e,g){e&&a(c.prototype,e);g&&a(c,g);return c}}();
h.when("A","quest-services-settings","quest-constants","quest-service").register("quest-service-html-helper",function(a,c,e){var g=a.$;return new (function(){function a(){var e=this;n(this,a);this.getOptionHtml=function(a,b,e){var d=c.get("questionViewOptionHtml"),g="";b&&b.educationalMessage&&b.educationalMessage.text&&(g=b.educationalMessage&&b.educationalMessage.text);d=d.replace("questOptionPrimaryTextPlaceholder",a);d=d.replace("quest-service-option-value-placeholder",e);return d=d.replace("questOptionSecondaryTextPlaceholder",
g)};this.getHtml=function(a,c){var b;b='\x3ctable border\x3d"0"\x3e';for(var d=0;d<a.length;d++){0===d%2&&(b+="\x3ctr\x3e");b+="\x3ctd\x3e";var g={};c.length>d&&(g=c[d]);b+=e.getOptionHtml(a[d],g,d);b+="\x3c/td\x3e";0!==d%2&&(b+="\x3c/tr\x3e")}0!==a.length%2&&(b+="\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e");return b+"\x3c/table\x3e"};this.getPopupSheetAnswersHtml=function(a,b){var c;c="".concat('\x3cul style\x3d"position: absolute; top:15px; "\x3e');for(var d=0;d<a.length;d++)c=c.concat("\x3cli\x3e"+a[d]+
"\x3cb\x3e "+b[d]+"\x3c/b\x3e\x3c/li\x3e");return c=c.concat("\x3cbr\x3e","\x3c/ul\x3e")};this.setDivHeightDynamically=function(a){e.$parentDivView=g(a);e.$parentDivView[0].firstChild.clientHeight!=u&&(e.$parentDivView[0].style.height=e.$parentDivView[0].firstChild.clientHeight+"px")}}w(a,[{key:"getCurrentQuestionPositionString",value:function(a,b){var e=c.get("currentQuestionPosition"),e=e.replace("currentQuestionPlaceHolder",a);return e=e.replace("totalQuestionPlaceHolder",b)}},{key:"getAnswerNQuestionString",
value:function(a){var b=c.get("answerNQuestionString");return b=b.replace("totalQuestionPlaceHolder",a)}}]);return a}())});"use strict";h.when("A").register("quest-service-csm-helper",function(a){return new function e(){n(this,e);this.addMetricCount=function(a){var b=(r.ue.count(a)||0)+1;r.ue&&"function"===typeof r.ue.count&&r.ue.count(a,b)};this.publishMetricCount=function(a){var b=1<arguments.length&&arguments[1]!==u?arguments[1]:1;r.ue&&"function"==typeof r.ue.count&&r.ue.count(a,b)}}});"use strict";
h.when("A").register("quest-service-log-helper",function(a){return new function e(){var a=this;n(this,e);this.log=function(a,e){r.ueLogError&&r.ueLogError(a,{logLevel:e,attribution:"DetailPageQuestServices"})};this.logError=function(b){a.log(b,"ERROR")};this.logFatal=function(b){a.log(b,"FATAL")};this.logException=function(a,e,g){r.ueLogError&&r.ueLogError(a,{logLevel:g,attribution:"DetailPageQuestServices",message:e})}}});"use strict";h.when("A").register("quest-metrics-constants",function(a){return{QUESTION_NUMBER_FORMAT:"\x3cnumber\x3e",
RESPONSE_COUNT_AT_QUESTION:"quest-services-response-count-at-question-\x3cnumber\x3e",INGRESS_GLANCE_VIEW:"quest-services-ingress-glance-view",B2B_INGRESS_GLANCE_VIEW:"quest-services-b2b-ingress-glance-view",B2C_INGRESS_GLANCE_VIEW:"quest-services-b2c-ingress-glance-view",INGRESS_GET_INSTALLATION_BUTTON_CLICK_FAILURE:"quest-services-ingress-get-installation-button-click-failure",INGRESS_CLICKABLE:"quest-services-ingress-clickable-success",INGRESS_GET_INSTALLATION_BUTTON_CLICK:"quest-services-ingress-get-installation-button-click",
B2B_INGRESS_GET_INSTALLATION_BUTTON_CLICK:"quest-services-b2b-ingress-get-installation-button-click",B2C_INGRESS_GET_INSTALLATION_BUTTON_CLICK:"quest-services-b2c-ingress-get-installation-button-click",BOTTOMSHEET_GET_INSTALLATION_BUTTON_CLICK:"quest-services-bottomsheet-get-installation-button-click",SECONDARY_VIEW_LOAD_SUCCESS:"quest-services-secondary-view-load-success",UNSERVICEABLE_QUESTIONNAIRE_RESPONSE:"quest-services-unserviceable-questionnaire-response",B2B_UNSERVICEABLE_QUESTIONNAIRE_RESPONSE:"quest-services-b2b-unserviceable-questionnaire-response",
B2C_UNSERVICEABLE_QUESTIONNAIRE_RESPONSE:"quest-services-b2c-unserviceable-questionnaire-response",START_QUESTIONNAIRE_ATTEMPT:"quest-services-start-questionnaire-attempt",BOTTOM_SHEET_RENDER_FAILURE:"quest-services-bottom-sheet-render-failure",TWISTER_VARIATIONS_V2_AJAX_FAILURE:"quest-services-twister-variations-V2-ajax-failure",GET_DATA_FAILURE_ON_TWISTER_VARIATIONS_V2_AJAX_SUCCESS:"quest-services-get-data-failure-on-twister-variations-V2-ajax-success",SELECTED_ANSWERS_BOTTOM_SHEET_RENDER_FAILURE:"quest-services-selected-answers-bottom-sheet-render-failure",
SECONDARY_VIEW_RENDER_FAILURE:"quest-services-secondary-view-render-failure",BOTTOM_SHEET_GET_INSTALLATION_BUTTON_CLICK_FAILURE:"quest-services-bottom-sheet-get-installation-button-click-failure",OFFER_DETAILS_SHOWN_SUCCESSFULLY:"quest-services-offer-details-shown-successfully",AAPI_OFFER_DETAILS_AJAX_CALL_FAILURE:"quest-services-aapi-offer-details-ajax-call-failure",GET_OFFER_DATA_FAILURE_ON_AAPI_AJAX_SUCCESS:"quest-services-get-offer-data-failure-on-aapi-ajax-success",SERVICE_OFFER_SELECTED_SUCCESSFULLY:"quest-services-installation-service-offer-selected-successfully",
B2B_SERVICE_OFFER_SELECTED_SUCCESSFULLY:"quest-services-b2b-installation-service-offer-selected-successfully",B2C_SERVICE_OFFER_SELECTED_SUCCESSFULLY:"quest-services-b2c-installation-service-offer-selected-successfully",OFFERED_INSTALLATION_SERVICE_REMOVED:"quest-services-offered-installation-service-removed",SELECTED_ANSWERS_POPOVER_RENDER_FAILURE:"quest-services-selected-answers-popover-render-failure",MAX_RETRY_COUNT_EXCEEDS_AAPI_OFFER_AJAX_CALL:"quest-services-max-retry-exceeds-for-aapi-offer-ajax-call",
MAX_RETRY_COUNT_EXCEEDS_AAPI_VARIATIONS_AJAX_CALL:"quest-services-max-retry-exceeds-for-aapi-variations-ajax-call"}});"use strict";h.when("A","quest-metrics-constants","quest-service-csm-helper","quest-service-log-helper","a-sheet","quest-service-modal","quest-service").register("quest-service-primary-bottom-sheet",function(a,c,e,g,b,h){var k=!1;return new function l(){var d=this;n(this,l);this.showBottomSheet=function(){d.sheetInstance?(b.showSheet(d.sheetInstance),k=!0,e.publishMetricCount(c.BOTTOM_SHEET_RENDER_FAILURE,
0)):(e.publishMetricCount(c.BOTTOM_SHEET_RENDER_FAILURE,1),g.logFatal({message:"Bottom Sheet is not rendered successfully"}))};this.closeBottomSheet=function(){k&&(b.hideSheet(d.sheetInstance),k=!1)};this.init=function(){d.sheetInstance=b.create({name:"primary_bottom_sheet",inlineContent:"content",height:300,preloadDomId:"quest-service-primary-bottom-sheet",closeType:"message",closeMessage:"Done"})};a.$("body").delegate("#quest-service-primary-bottom-sheet-get-installation-button","click",function(){e.publishMetricCount(c.BOTTOMSHEET_GET_INSTALLATION_BUTTON_CLICK);
try{h.init(),h.showModal()}catch(a){e.publishMetricCount(c.BOTTOM_SHEET_GET_INSTALLATION_BUTTON_CLICK_FAILURE),g.logException(a,"Bottom Sheet Get Installation Button click failed - ","FATAL")}});a.on("a:sheet:afterHide:primary_bottom_sheet",function(){k=!1});a.on("a:popover:beforeHide:quest-service-modal-preload",this.closeBottomSheet)}});"use strict";h.when("A","a-modal","quest-service-modal","quest-service-html-helper","quest-metrics-constants","quest-service-csm-helper","quest-service-log-helper",
"quest-service").register("quest-service-selected-answers-popover",function(a,c,e,g,b,h,k){var f=a.$;return new function d(){var m=this;n(this,d);this.retakeQuestions=function(){e.init();e.showModal();c.get(f("#selectedAnswerModalTrigger")).hide()};this.setSelectedAnswersDivHeight=function(){g.setDivHeightDynamically("#quest-service-popover-selected-answers");f("#quest-service-selected-answers-popover-final-price-info-text")[0].style.visibility="visible";f("#quest-service-selected-answers-popover-retake-text")[0].style.visibility=
"visible"};a.$("body").delegate("#quest-service-selected-answers-popover-retake-text","click",function(){m.retakeQuestions()});a.on("a:popover:afterShow:selectedAnswerQuestModal",function(){try{m.setSelectedAnswersDivHeight(),h.publishMetricCount(b.SELECTED_ANSWERS_POPOVER_RENDER_FAILURE,0)}catch(a){h.publishMetricCount(b.SELECTED_ANSWERS_POPOVER_RENDER_FAILURE,1),k.logException(a,"Selected Answers Popover not rendered successfully - ","FATAL")}});a.on("a:popover:beforeShow:selectedAnswerQuestModal",
function(){f("#quest-service-selected-answers-popover-final-price-info-text")[0].style.visibility="hidden";f("#quest-service-selected-answers-popover-retake-text")[0].style.visibility="hidden"})}});"use strict";h.when("A","a-sheet","quest-service-modal","quest-service-html-helper","quest-metrics-constants","quest-service-csm-helper","quest-service-log-helper","quest-service").register("quest-service-selected-answer-bottom-sheet",function(a,c,e,g,b,h,k){var f=a.$,l=!1;return new function m(){var t=
this;n(this,m);this.retakeQuestions=function(){e.init();e.showModal()};this.closeBottomSheet=function(){l&&(t.sheetInstance=c.get("selected_answer_bottom_sheet"),c.hideSheet(t.sheetInstance),l=!1)};this.setSelectedAnswersDivHeight=function(){g.setDivHeightDynamically("#quest-service-bottom-sheet-selected-answers");f("#quest-service-selected-answers-bottom-sheet-final-price-info-text")[0].style.visibility="visible";f("#quest-service-selected-answers-bottom-sheet-retake-text")[0].style.visibility="visible"};
a.$("body").delegate("#quest-service-selected-answers-bottom-sheet-retake-text","click",function(){t.retakeQuestions()});a.on("a:popover:beforeHide:quest-service-modal-preload",this.closeBottomSheet);a.on("a:sheet:afterShow:selected_answer_bottom_sheet",function(){l=!0;try{t.setSelectedAnswersDivHeight(),h.publishMetricCount(b.SELECTED_ANSWERS_BOTTOM_SHEET_RENDER_FAILURE,0)}catch(a){h.publishMetricCount(b.SELECTED_ANSWERS_BOTTOM_SHEET_RENDER_FAILURE,1),k.logException(a,"Selected Answers Bottom Sheet not rendered successfully - ",
"FATAL"),t.closeBottomSheet()}});a.on("a:sheet:afterHide:selected_answer_bottom_sheet",function(){l=!1});a.on("a:sheet:beforeShow:selected_answer_bottom_sheet",function(){f("#quest-service-selected-answers-bottom-sheet-final-price-info-text")[0].style.visibility="hidden";f("#quest-service-selected-answers-bottom-sheet-retake-text")[0].style.visibility="hidden"});r.addEventListener("resize",this.setSelectedAnswersDivHeight)}})});